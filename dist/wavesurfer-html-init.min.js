/*!
 * wavesurfer.js 6.0.4 (2022-09-28)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("WaveSurfer",[],t):"object"==typeof exports?exports.WaveSurfer=t():(e.WaveSurfer=e.WaveSurfer||{},e.WaveSurfer["html-init"]=t())}(self,(()=>(()=>{var e={90:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,o){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof r&&(o=r,r={}),r=r||{},o=o||function(){},i.type=r.type||"text/javascript",i.charset=r.charset||"utf8",i.async=!("async"in r)||!!r.async,i.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(i,r.attrs),r.text&&(i.text=""+r.text),("onload"in i?t:n)(i,o),i.onload||t(i,o),a.appendChild(i)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>a});var e=n(90),t=n.n(e);class o{constructor(e,n={}){if(!e)throw new Error("WaveSurfer is not available!");this.WaveSurfer=e;const r=this.params=Object.assign({},{defaults:{backend:"MediaElement",mediaControls:!0},containers:"wavesurfer",pluginCdnTemplate:"//localhost:8080/dist/plugin/wavesurfer.[name].js",loadPlugin(e,n){const o=r.pluginCdnTemplate.replace("[name]",e);t()(o,{async:!1},((t,r)=>{if(t)return console.error(`WaveSurfer plugin ${e} not found at ${o}`);n(window.WaveSurfer[e])}))}},n);this.containers="string"==typeof r.containers?document.querySelectorAll(r.containers):r.containers,this.pluginCache={},this.instances=[],this.initAllEls()}initAllEls(){Array.prototype.forEach.call(this.containers,(e=>{const t=e.dataset.plugins?e.dataset.plugins.split(","):[];if(!t.length)return this.initEl(e);t.forEach(((n,r)=>{this.pluginCache[n]?r===t.length&&this.initEl(e,t):this.params.loadPlugin(n,(o=>{this.pluginCache[n]=o,r+1===t.length&&this.initEl(e,t)}))}))}))}initEl(e,t=[]){const n=/^[[|{]/,r=t.map((t=>{const r={},o=new RegExp("^"+t);let a;for(a in e.dataset){if(o.exec(a)){const o=e.dataset[a],i=n.test(o)?JSON.parse(o):o;r[a.slice(t.length,t.length+1).toLowerCase()+a.slice(t.length+1)]=i}}return this.pluginCache[t].create(r)})),o=Object.assign({container:e},this.params.defaults,e.dataset,{plugins:r});e.style.display="block";const a=this.WaveSurfer.create(o),i=o.peaks?JSON.parse(o.peaks):void 0;return a.load(o.url,i),this.instances.push(a),a}}"object"!=typeof window||window.WS_StopAutoInit||("complete"===document.readyState?window.WaveSurferInit=new o(window.WaveSurfer,window.WS_InitOptions):window.addEventListener("load",(()=>{window.WaveSurferInit=new o(window.WaveSurfer,window.WS_InitOptions)})));const a=o})(),r})()));
//# sourceMappingURL=wavesurfer-html-init.min.js.map